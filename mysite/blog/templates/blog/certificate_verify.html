{% extends "blog/base.html" %}
{% block title %}التحقق من الشهادة - {{ certificate.certificate_id }}{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
                <!-- Header -->
                <div class="card-header bg-gradient text-white text-center py-4" style="background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);">
                    <i class="bi bi-shield-check" style="font-size: 4rem;"></i>
                    <h2 class="mt-3 mb-0 fw-bold">شهادة موثقة</h2>
                </div>

                <!-- Body -->
                <div class="card-body p-5">
                    <div class="text-center mb-4">
                        <span class="badge bg-success fs-5 px-4 py-2 rounded-pill">
                            <i class="bi bi-check-circle-fill me-2"></i>شهادة صالحة
                        </span>
                    </div>

                    <div class="row g-4">
                        <!-- Certificate Details -->
                        <div class="col-md-6">
                            <div class="border-end pe-md-4">
                                <h5 class="fw-bold mb-3"><i class="bi bi-info-circle text-primary me-2"></i>تفاصيل الشهادة</h5>
                                
                                <div class="mb-3">
                                    <label class="text-muted small">رقم الشهادة</label>
                                    <p class="fw-bold font-monospace">{{ certificate.certificate_id }}</p>
                                </div>

                                <div class="mb-3">
                                    <label class="text-muted small">تاريخ الإصدار</label>
                                    <p class="fw-bold">{{ certificate.issue_date|date:"d F Y" }}</p>
                                </div>

                                <div class="mb-3">
                                    <label class="text-muted small">تاريخ الإكمال</label>
                                    <p class="fw-bold">{{ certificate.completion_date|date:"d F Y" }}</p>
                                </div>

                                {% if certificate.grade %}
                                <div class="mb-3">
                                    <label class="text-muted small">الدرجة</label>
                                    <p class="fw-bold text-success">{{ certificate.grade }}%</p>
                                </div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- Student & Course Info -->
                        <div class="col-md-6">
                            <div class="ps-md-4">
                                <h5 class="fw-bold mb-3"><i class="bi bi-person-badge text-primary me-2"></i>معلومات الطالب</h5>
                                
                                <div class="mb-3">
                                    <label class="text-muted small">اسم الطالب</label>
                                    <p class="fw-bold">{{ certificate.user.get_full_name|default:certificate.user.username }}</p>
                                </div>

                                <div class="mb-3">
                                    <label class="text-muted small">الكورس</label>
                                    <p class="fw-bold">{{ certificate.course.title }}</p>
                                </div>

                                <div class="mb-3">
                                    <label class="text-muted small">المنصة</label>
                                    <p class="fw-bold">مدونتي - Educational Platform</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Verification Message -->
                    <div class="alert alert-info rounded-4 mt-4">
                        <i class="bi bi-info-circle-fill me-2"></i>
                        <strong>تم التحقق بنجاح!</strong> هذه الشهادة صادرة رسمياً من منصتنا التعليمية.
                    </div>

                    <!-- Actions -->
                    <div class="text-center mt-4">
                        <a href="{% url 'course_list' %}" class="btn btn-primary rounded-pill px-4">
                            <i class="bi bi-book me-2"></i>تصفح الكورسات
                        </a>
                    </div>
                </div>
            </div>

            <!-- Security Note -->
            <div class="text-center mt-4 text-muted small">
                <i class="bi bi-lock-fill me-1"></i>
                جميع الشهادات محمية برمز QR فريد ورقم تعريف آمن
            </div>
        </div>
    </div>
</div>

<style>
    .font-monospace {
        font-family: 'Courier New', monospace;
        font-size: 1.1rem;
        color: #6366f1;
    }
</style>
{% endblock %}
