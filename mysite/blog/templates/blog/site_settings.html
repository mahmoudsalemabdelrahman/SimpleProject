{% extends "blog/base.html" %}
{% block title %}إعدادات الموقع{% endblock %}

{% block content %}
<div class="container py-5 fade-in">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h1 class="fw-bold">إعدادات الموقع</h1>
                    <p class="text-muted">تحكم كامل في خصائص ومظهر الموقع</p>
                </div>
                <a href="{% url 'admin_dashboard' %}" class="btn btn-light rounded-pill shadow-sm">
                    <i class="bi bi-arrow-right me-2"></i> العودة للوحة التحكم
                </a>
            </div>

            <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
                <div class="card-header bg-white border-0 p-0">
                    <ul class="nav nav-tabs nav-fill" id="settingsTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active py-3 fw-bold" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab">
                                <i class="bi bi-info-circle me-2"></i> عام
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link py-3 fw-bold" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab">
                                <i class="bi bi-envelope me-2"></i> التواصل
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link py-3 fw-bold" id="social-tab" data-bs-toggle="tab" data-bs-target="#social" type="button" role="tab">
                                <i class="bi bi-share me-2"></i> السوشيال
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link py-3 fw-bold" id="features-tab" data-bs-toggle="tab" data-bs-target="#features" type="button" role="tab">
                                <i class="bi bi-sliders me-2"></i> الخصائص
                            </button>
                        </li>
                    </ul>
                </div>
                
                <div class="card-body p-5">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        
                        <div class="tab-content" id="settingsTabContent">
                            <!-- General Settings -->
                            <div class="tab-pane fade show active" id="general" role="tabpanel">
                                <h4 class="fw-bold mb-4 text-primary">المعلومات الأساسية</h4>
                                <div class="row g-4">
                                    <div class="col-md-12">
                                        <label class="form-label fw-bold">اسم الموقع</label>
                                        {{ form.site_name }}
                                    </div>
                                    <div class="col-md-12">
                                        <label class="form-label fw-bold">وصف الموقع</label>
                                        {{ form.site_description }}
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">شعار الموقع (Logo)</label>
                                        {{ form.site_logo }}
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">أيقونة الموقع (Favicon)</label>
                                        {{ form.site_favicon }}
                                    </div>
                                </div>
                            </div>

                            <!-- Contact Settings -->
                            <div class="tab-pane fade" id="contact" role="tabpanel">
                                <h4 class="fw-bold mb-4 text-primary">بيانات التواصل</h4>
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">البريد الإلكتروني</label>
                                        {{ form.contact_email }}
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">رقم الهاتف</label>
                                        {{ form.contact_phone }}
                                    </div>
                                    <div class="col-md-12">
                                        <label class="form-label fw-bold">العنوان</label>
                                        {{ form.contact_address }}
                                    </div>
                                </div>
                            </div>

                            <!-- Social Settings -->
                            <div class="tab-pane fade" id="social" role="tabpanel">
                                <h4 class="fw-bold mb-4 text-primary">روابط التواصل الاجتماعي</h4>
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold"><i class="bi bi-facebook text-primary me-2"></i> فيسبوك</label>
                                        {{ form.facebook_url }}
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold"><i class="bi bi-twitter text-info me-2"></i> تويتر (X)</label>
                                        {{ form.twitter_url }}
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold"><i class="bi bi-instagram text-danger me-2"></i> انستجرام</label>
                                        {{ form.instagram_url }}
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold"><i class="bi bi-linkedin text-primary me-2"></i> لينكد إن</label>
                                        {{ form.linkedin_url }}
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold"><i class="bi bi-youtube text-danger me-2"></i> يوتيوب</label>
                                        {{ form.youtube_url }}
                                    </div>
                                </div>
                            </div>

                            <!-- Features Settings -->
                            <div class="tab-pane fade" id="features" role="tabpanel">
                                <h4 class="fw-bold mb-4 text-primary">التحكم في الخصائص</h4>
                                <div class="row g-4">
                                    <div class="col-md-12">
                                        <div class="form-check form-switch p-3 bg-light rounded-3 mb-3">
                                            {{ form.allow_registration }}
                                            <label class="form-check-label fw-bold ms-2" for="{{ form.allow_registration.id_for_label }}">
                                                السماح بتسجيل أعضاء جدد
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-check form-switch p-3 bg-light rounded-3 mb-3">
                                            {{ form.allow_comments }}
                                            <label class="form-check-label fw-bold ms-2" for="{{ form.allow_comments.id_for_label }}">
                                                تفعيل نظام التعليقات
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="form-check form-switch p-3 bg-danger-subtle rounded-3 mb-3">
                                            {{ form.maintenance_mode }}
                                            <label class="form-check-label fw-bold ms-2 text-danger" for="{{ form.maintenance_mode.id_for_label }}">
                                                وضع الصيانة (إغلاق الموقع)
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">عدد المقالات في الصفحة</label>
                                        {{ form.posts_per_page }}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="d-grid mt-5">
                            <button type="submit" class="btn btn-primary btn-lg rounded-pill fw-bold shadow-sm">
                                <i class="bi bi-save me-2"></i> حفظ كافة الإعدادات
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
